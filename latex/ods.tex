\documentclass[11pt]{book}
\usepackage{amsopn}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{url}
\usepackage{graphicx}

\usepackage[sf,bf,small,raggedright,compact]{titlesec} % formatting titles
\usepackage{fancyvrb}  % formatting pseudocode
\usepackage{ods} % Personalization and commands

% Colors for syntax highlighting
\usepackage[usenames,dvipsnames]{color}
\definecolor{keyword}{named}{RoyalPurple}
\definecolor{var}{named}{Blue}
\definecolor{comment}{named}{ForestGreen}
\definecolor{boxcolor}{named}{Gray}

% Title page content
\title{Basic Data Structures\\(in Java)}
\author{Pat Morin}
\date{Version 0.0 pre $\alpha$ : \today}

\pagenumbering{roman}

% Draft mode only - mark overfull hboxes
\overfullrule=5pt

\begin{document}
\begin{titlepage}
  \maketitle
\end{titlepage}

% blank page behind title page
\ \thispagestyle{empty}\newpage

\setcounter{page}{1}
\include{why}

\tableofcontents

\include{intro-tmp}
\include{arrays-tmp}
\include{linkedlists-tmp}
\include{skiplists-tmp}
\include{hashing-tmp}
\include{binarytrees-tmp}
\include{rbs-tmp}
\include{scapegoat-tmp}
\include{redblack-tmp}
\include{heaps-tmp}

%\chapter{Data Structures for Integers}
%\chaplabel{bounded}
%\section{X-Fast Tries}
%\section{Y-Fast Tries}

\chapter{Sorting Algorithms}
\chaplabel{sorting}
\section{Merge Sort}

\begin{thm}
  MergeSort runs in $O(n\log n)$ time and performs at most $n\log n$
  comparisons.
\end{thm}

\begin{proof}
The proof is by induction on $n$.  The base case $n=1$ is trivial.

Merging two sorted lists of total length $n$ requires at most $n-1$
comparisons. If $n$ is even, then we apply the inductive hypothesis to
the two subproblems and obtain
\begin{align}
  C(n) 
  &= n-1 + 2C(n/2) \\
  &= n-1 + 2((n/2)\log(n/2) \\
  &= n-1 + n\log(n/2) \\
  &= n-1 + n\log n-n \\
  &< n\log n \enspace .
\end{align}
The case where $n$ is odd is slightly more complicated.  For this case,
we use the inequality (justified below) that shows $\log (x+1/2) <
\log x + (\log e)/2x$.  So we have
\begin{align}
  C(n) 
  &= n-1 + C(\lceil n/2 \rceil) + C(\lfloor n/2 \rfloor) \\
  &= n-1 + \lceil n/2 \rceil\log \lceil n/2 \rceil 
           + \lfloor n/2 \rfloor\log \lfloor n/2 \rfloor \\
  &= n-1 + (n/2+1/2)\log (n/2+1/2) 
           + \lfloor n/2 \rfloor\log \lfloor n/2 \rfloor \\
  &< n-1 + \lceil n/2 \rceil(\log n/2 + (\log e)/n)
           + \lfloor n/2 \rfloor\log (n/2) \\
  &= n\log n - 1 + (n/2+1/2)(\log e/n) \\
  &< n\log n 
\end{align}
since $(n/2+1/2)(\log e/n) < 1$ for all $n\ge 2$.

All that remains is to justify the inequality
$\log (x+1/2) <
\log x + (\log e)/2x$.  This inequality comes from the identity $\ln x = \int_1^x (1/x),\mathrm{d}x$.  This identity yields:
\[
   \ln(x+1/2) = \int_1^{x+1/2} (1/x)\,\mathrm{d}x
    = \int_1^{x} (1/x)\,\mathrm{d}x + \int_{x}^{x+1/2} (1/x)\,\mathrm{d}x
    < \int_1^{x} (1/x)\,\mathrm{d}x + 1/2x \enspace .\footnote{The same derivation yields the famous inequality, seen in many calculus books, $1+x < e^x$.}
\]
Multiplying both sides of this inequality by $\log e$ yields
$\log (x+1/2) < \log x + (\log e)/2x$.
\end{proof}



\section{Quicksort}
\section{Heapsort}

\bibliographystyle{plainurl}
\bibliography{ods}

\end{document}

